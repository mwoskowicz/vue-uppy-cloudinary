webpackJsonp([2],{102:function(e,t){},103:function(e,t){},137:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{class:[e.buttonStyle],on:{click:e.openUploader}},[e._v("\n\n  "+e._s(e.buttonText)+"\n")])},staticRenderFns:[]}},34:function(e,t,n){function a(e){n(103)}var o=n(52)(n(58),n(137),a,"data-v-085860d1",null);e.exports=o.exports},56:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(34),o=n.n(a);t.default=o.a},58:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(59),o=n.n(a),r=n(98),i=n.n(r),s=n(61),u=n.n(s),l=n(113),p=n.n(l),d=n(120),c=n.n(d),f=n(133),m=n.n(f),y=n(102);n.n(y);t.default={props:{cloudName:{type:String,required:!0},buttonText:{type:String,default:"Upload"},minNumberOfFiles:{type:Number,default:1},maxNumberOfFiles:{type:Number,default:10},maxFileSize:{type:Number,default:4e7},allowedFileTypes:{type:Array,default:function(){return["image/*","video/*"]}},autoProceed:{type:Boolean,default:!1},showProgressDetails:{type:Boolean,default:!0},closeModalOnClickOutside:{type:Boolean,default:!0},buttonStyle:{type:String,default:"uploader"},signRequest:{type:Function},options:{type:Object,required:!0}},data:function(){return{uppy:{}}},mounted:function(){this.uppy=this.createUppyInstance(),this.uppy.on("complete",this.completeHandler)},methods:{openUploader:function(){this.uppy.getPlugin("Dashboard").openModal()},uploadFile:function(e,t){var n=this,a=new FormData,o=new XMLHttpRequest;a.append("file",e.data),this.appendFormDataParams(a,t),o.upload.addEventListener("loadstart",function(){n.uppy.emit("upload-started",e.id)}),o.addEventListener("load",function(t){200===t.target.status?(n.$emit("uploaded",JSON.parse(t.target.response)),n.uppy.emit("upload-success",e.id)):n.uppy.emit("upload-error",e.id,new Error("Failed to upload"))}),o.addEventListener("error",function(){n.uppy.emit("upload-error",e.id,new Error("Failed to upload"))}),o.upload.addEventListener("progress",function(t){if(t.lengthComputable){var a={uploader:n,id:e.id,bytesUploaded:t.loaded,bytesTotal:t.total};n.uppy.emit("upload-progress",a),n.$emit("upload-progress",a)}}),o.open("POST","https://api.cloudinary.com/v1_1/"+this.cloudName+"/auto/upload"),o.send(a)},createUppyInstance:function(){return p()({autoProceed:this.autoProceed,restrictions:{maxFileSize:this.maxFileSize,maxNumberOfFiles:this.maxNumberOfFiles,minNumberOfFiles:this.minNumberOfFiles,allowedFileTypes:this.allowedFileTypes}}).use(c.a,{target:"body",showProgressDetails:this.showProgressDetails,closeModalOnClickOutside:this.closeModalOnClickOutside}).use(m.a,{target:c.a}).run()},completeHandler:function(e){var t=this;u()(i.a.mark(function n(){var a,o;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=null,void 0===t.options.type){n.next=6;break}return n.next=4,t.signRequest(t.options);case 4:o=n.sent,a=o.data;case 6:e.successful.forEach(function(e){t.uploadFile(e,a||t.options)});case 7:case"end":return n.stop()}},n,t)}))()},appendFormDataParams:function(e,t){o()(t).forEach(function(n){e.append(n,t[n])})}}}}},[56]);