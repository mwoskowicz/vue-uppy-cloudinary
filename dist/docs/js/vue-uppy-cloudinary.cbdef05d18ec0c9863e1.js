webpackJsonp([2],{102:function(e,t){},103:function(e,t){},137:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{class:[e.buttonStyle],on:{click:e.openUploader}},[e._v("\n\n  "+e._s(e.buttonText)+"\n")])},staticRenderFns:[]}},34:function(e,t,o){function a(e){o(103)}var n=o(52)(o(58),o(137),a,"data-v-085860d1",null);e.exports=n.exports},56:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(34),n=o.n(a);t.default=n.a},58:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(59),n=o.n(a),s=o(62),r=o.n(s),u=o(61),i=o.n(u),l=o(113),p=o.n(l),d=o(120),c=o.n(d),f=o(133),m=o.n(f),y=o(102);o.n(y);t.default={props:{cloudName:{type:String,required:!0},buttonText:{type:String,default:"Upload"},minNumberOfFiles:{type:Number,default:1},maxNumberOfFiles:{type:Number,default:10},maxFileSize:{type:Number,default:4e7},allowedFileTypes:{type:Array,default:function(){return["image/*","video/*"]}},autoProceed:{type:Boolean,default:!1},autoClose:{type:Boolean,default:!0},showProgressDetails:{type:Boolean,default:!0},closeModalOnClickOutside:{type:Boolean,default:!0},buttonStyle:{type:String,default:"uploader"},signRequest:{type:Function},options:{type:Object,required:!0}},data:function(){return{uppy:{}}},mounted:function(){this.uppy=this.createUppyInstance(),this.uppy.on("complete",this.completeHandler)},methods:{openUploader:function(){this.uppy.getPlugin("Dashboard").openModal()},closeUploader:function(){this.uppy.getPlugin("Dashboard").closeModal()},uploadFile:function(e,t,o){var a=this,n=new FormData,s=new XMLHttpRequest;n.append("file",e.data),this.appendFormDataParams(n,t),s.upload.addEventListener("loadstart",function(){a.uppy.emit("upload-started",e.id)}),s.addEventListener("load",function(t){200===t.target.status?(a.$emit("uploaded",JSON.parse(t.target.response)),a.uppy.emit("upload-success",e.id),o&&a.autoClose&&setInterval(a.closeUploader,500)):a.uppy.emit("upload-error",e.id,new Error("Failed to upload"))}),s.addEventListener("error",function(){a.uppy.emit("upload-error",e.id,new Error("Failed to upload"))}),s.upload.addEventListener("progress",function(t){if(t.lengthComputable){var o={uploader:a,id:e.id,bytesUploaded:t.loaded,bytesTotal:t.total};a.uppy.emit("upload-progress",o),a.$emit("upload-progress",o)}}),s.open("POST","https://api.cloudinary.com/v1_1/"+this.cloudName+"/auto/upload"),s.send(n)},createUppyInstance:function(){return p()({autoProceed:this.autoProceed,restrictions:{maxFileSize:this.maxFileSize,maxNumberOfFiles:this.maxNumberOfFiles,minNumberOfFiles:this.minNumberOfFiles,allowedFileTypes:this.allowedFileTypes}}).use(c.a,{target:"body",showProgressDetails:this.showProgressDetails,closeModalOnClickOutside:this.closeModalOnClickOutside}).use(m.a,{target:c.a}).run()},completeHandler:function(e){var t=this;i()(r.a.mark(function o(){var a,n,s;return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(a=null,n=e.successful.length,void 0===t.options.type){o.next=7;break}return o.next=5,t.signRequest(t.options);case 5:s=o.sent,a=s.data;case 7:e.successful.forEach(function(e,o){t.uploadFile(e,a||t.options,n===o+1)});case 8:case"end":return o.stop()}},o,t)}))()},appendFormDataParams:function(e,t){n()(t).forEach(function(o){e.append(o,t[o])})}}}}},[56]);